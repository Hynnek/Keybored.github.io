<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../cstyle.css">
  <script src="../cart.js"></script>
  <link rel="icon" href="../assets/favicon-32x32.png" type="32x32.png">
  <title>Keybored - M71</title>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container">
            <a class="navbar-brand fs-4" href="#">keybored</a>
              <button class="navbar-toggler shadow-none border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
                <span class="navbar-toggler-icon"></span>
              </button>
              
              <div class="offcanvas offcanvas-end text-bg-dark" id="offcanvasDarkNavbar">
                <div class="offcanvas-header">
                  <h5 class="offcanvas-title">Menu</h5>
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
                </div>
                
                <div class="offcanvas-body">
                  <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                    <li class="nav-item">
                      <a class="nav-link" href="../index.html">Home</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link active" href="../catalog.html">Catalogue</a>
                    </li>
                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Others</a>
                      <ul class="dropdown-menu dropdown-menu-dark">
                        <li><a class="dropdown-item" href="../about.html">About Us</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="../game.html">Click?</a></li>
                      </ul>
                    </li>
                  </ul>
                  
                  <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                      <button class="btn btn-link nav-link" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="bi bi-search fs-5"></i>
                      </button>
                    </li>
                    <li class="nav-item ms-2">
                      <a class="nav-link" href="../cart.html">
                        <i class="bi bi-cart fs-5"></i>
                        <span id="cart-count" class="badge bg-primary">0</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </nav>
        </header>
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="addToCartToast" class="toast" role="alert">
                <div class="toast-header">
                    <strong class="me-auto">Added to Cart</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                </div>
                <div class="toast-body">
                    Item has been added to your cart.
                </div>
            </div>
        </div>
  
<section>
        
  <div class="container mt-5">
    <div class="row">
      <!-- Left Column - Thumbnail Images -->
      <div class="col-md-2">
        <div class="d-flex flex-column gap-2">
          <img src="../assets/xinmeng.jpg" class="img-thumbnail thumbnail-img" onclick="changeMainImage(this.src)" alt="Product View 1">
          <img src="../assets/xinmeng-2.webp" class="img-thumbnail thumbnail-img" onclick="changeMainImage(this.src)" alt="Product View 2">
          <img src="../assets/xinmeng-3.webp" class="img-thumbnail thumbnail-img" onclick="changeMainImage(this.src)" alt="Product View 3">
        </div>
      </div>

      <!-- Middle Column - Main Image -->
      <div class="col-md-6">
        <img id="mainImage" src="../assets/xinmeng.jpg" class="img-fluid w-75 rounded mx-auto d-block" alt="Main Product Image">
      </div>

      <!-- Right Column - Product Details -->
      <div class="col-md-4">
        <div class="product-details">
          <h2 class="product-title mb-3">Weikav - Xinmeng M71</h2>
          <p class="product-price h3 mb-4">$55.00</p>

          <!-- Color Selection -->
          <div class="mb-4">
            <h5>Color</h5>
            <div class="d-flex gap-2" id="colorOptions">
              <button class="btn btn-outline-dark option-btn active" data-option="color" data-value="White" onclick="selectOption(this, 'color')">White</button>
              <button class="btn btn-outline-dark option-btn" data-option="color" data-value="Purple" onclick="selectOption(this, 'color')">Purple</button>
            </div>
            <input type="hidden" id="selectedColor" value="White">
          </div>

          <!-- Switch Selection -->
          <div class="mb-4">
            <h5>Switch</h5>
            <div class="d-flex gap-2" id="switchOptions">
              <button class="btn btn-outline-dark option-btn active" data-option="switch" data-value="Jade White" onclick="selectOption(this, 'switch')">Jade White</button>
            </div>
            <input type="hidden" id="selectedSwitch" value="Jade White">
          </div>

          <!-- Quantity -->
          <div class="mb-4">
            <h5>Quantity</h5>
            <div class="input-group" style="width: 150px;">
              <button class="btn btn-outline-dark" onclick="decrementQuantity()">-</button>
              <input type="number" class="form-control text-center" id="quantity" value="1" min="1">
              <button class="btn btn-outline-dark" onclick="incrementQuantity()">+</button>
            </div>
          </div>

          <!-- Add to Cart Button -->
          <button class="btn btn-primary w-100 mb-3" onclick="addToCart(this)" data-product-id="spade65">
            Add to Cart
          </button>

          <!-- Product Description -->
          <div class="mt-4">
            <h5>Description</h5>
            <p>Produk : Mechanical Keyboard
              Brand : XINMENG
              Model : M71 - SOUTH FACING RGB
              Switch : Compatible with 3 and 5 PIN
              Bahan : Aluminum
              Plate : PC Gasket
              Tipe : Keyboard 
              Battery : 4600 mAH
              Lights : Back Light RGB
              Interface : USB Type-C, Bluetooth, Wireless 2.4
              Support : Windows + Mac + iOS + Android
              Apps : Xinmeng Software
              Berat : 1.32 kg
              Size : 350*115*31mm</p>
            
            <!-- Specifications -->
            <h5 class="mt-4">Specifications</h5>
            <ul class="list-unstyled">
              <li><strong>Layout:</strong> 68%</li>
              <li><strong>Connection:</strong> Tri-mode</li>
              <li><strong>Material:</strong> Aluminum</li>
              <li><strong>Mounting:</strong> Gasket Mount</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
  <footer class="bg-dark text-light py-5 mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5>Contact Us</h5>
          <p>Email: punyakennyh@gmail.com<br>
          Phone: (+62) 813-8383-7710</p>
        </div>
          <div class="col-md-4">
            <h5>Quick Links</h5>
              <ul class="list-unstyled">
                <li><a href="about.html" class="text-light">About Us</a></li>
                <li><a href="#" class="text-light">Shipping Policy</a></li>
                <li><a href="#" class="text-light">Returns</a></li>
              </ul>
          </div>
          
        <div class="col-md-4">
          <h5>Newsletter</h5>
            <form>
              <div class="mb-3">
                <input type="email" class="form-control" placeholder="Enter your email">
              </div>
              <button type="submit" class="btn btn-light">Subscribe</button>
            </form>
        </div>
      </div>
    </div>
</footer>
<script src="../cart.js"></script>
  <script>
    function changeMainImage(src) {
      document.getElementById('mainImage').src = src;
    }

    function incrementQuantity() {
      const input = document.getElementById('quantity');
      input.value = parseInt(input.value) + 1;
    }

    function decrementQuantity() {
      const input = document.getElementById('quantity');
      if (parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
    }
    function selectOption(button, optionType) {
      // Get all buttons in the same option group
      const buttons = document.querySelectorAll(`[data-option="${optionType}"]`);
      
      // Remove active class from all buttons
      buttons.forEach(btn => btn.classList.remove('active'));
      
      // Add active class to clicked button
      button.classList.add('active');
      
      // Update hidden input with selected value
      document.getElementById(`selected${optionType.charAt(0).toUpperCase() + optionType.slice(1)}`).value = button.dataset.value;

      // Optional: You can trigger any additional actions here
      // For example, updating price, changing images, etc.
      console.log(`Selected ${optionType}:`, button.dataset.value);
    }

    // Enhanced addToCart function to include selected options
    function addToCart(button) {
    
    const productId = button.dataset.productId;
    const productName = document.querySelector('.product-title').textContent;
    const priceText = document.querySelector('.product-price').textContent;
    const price = parseFloat(priceText.replace(/[^0-9.]/g, '')); 
    const mainImage = document.getElementById('mainImage').src;
    const selectedColor = document.getElementById('selectedColor').value;
    const selectedSwitch = document.getElementById('selectedSwitch').value;
    const quantity = parseInt(document.getElementById('quantity').value);

    // Create product name with selected options
    const fullProductName = `${productName} (${selectedColor}, ${selectedSwitch})`;

    // Use the cart class from cart.js
    if (window.cart) {
        window.cart.addItem(productId, fullProductName, price, quantity, mainImage);
    } else {
        console.error('Cart not initialized');
    }


// Make sure cart is initialized when the page loads
document.addEventListener('DOMContentLoaded', function() {
    window.cart = new ShoppingCart();
});
      
      // Show toast notification
      const toast = new bootstrap.Toast(document.getElementById('addToCartToast'));
      toast.show();
    }

  </script>

  <style>
    .thumbnail-img {
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .thumbnail-img:hover {
      opacity: 0.8;
    }

    .main-product-image {
      max-height: 500px;
      object-fit: contain;
    }

    .product-details {
      position: sticky;
      top: 20px;
    }

    .option-btn {
      transition: all 0.2s ease;
    }

    .option-btn.active {
      background-color: #212529;
      color: white;
      border-color: #212529;
    }

    /* Optional: Add hover effect for better UX */
    .option-btn:hover:not(.active) {
      background-color: #e9ecef;
    }
  </style>
</body>
</html>